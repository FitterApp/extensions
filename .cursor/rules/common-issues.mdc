---
description:
globs:
alwaysApply: false
---
# Common Issues and Solutions

This document covers common problems and their solutions when working with extensions.

## Vite Configuration Issues

### Issue: Entry point file doesn't exist
**Error**: `Entry module "src/extension-name.ts" not found`
**Solution**: Ensure the entry point file exists in src/ directory and matches the vite.config.js entry

### Issue: Extension name mismatch
**Error**: Build fails or extension doesn't load
**Solution**: Check that extension name is consistent across:
- Folder name
- Vite config base path
- Manifest entrypoints
- Entry point filename

## Manifest Issues

### Issue: Entrypoints don't match actual files
**Error**: Extension fails to load
**Solution**: Ensure manifest.json entrypoints match actual .ts files in src/

### Issue: Missing manifest.json
**Error**: Extension has no metadata
**Solution**: Create manifest.json with required fields (see [manifest-patterns.mdc](mdc:.cursor/rules/manifest-patterns.mdc))

## Mount Manager Issues

### Issue: Import path incorrect
**Error**: `Cannot find module './lib/mount-manager'`
**Solution**: Use relative import `'./lib/mount-manager'` not `'@/lib/mount-manager'`

### Issue: Missing mount/unmount exports
**Error**: Extension doesn't mount properly
**Solution**: Ensure entry point exports exactly `{ mount, unmount }`

## Build Issues

### Issue: Dependencies not installed
**Error**: `Cannot find module 'vue'`
**Solution**: Run `npm install` in the extension directory

### Issue: Build output directory issues
**Error**: Files not in expected location
**Solution**: Check vite.config.js outDir path matches extension name

## CSS Issues

### Issue: Styles not loading
**Error**: Extension appears unstyled
**Solution**: Ensure CSS files are in src/assets/main.css and imported in entry point

## Votes Extension Specific Issues

### Issue: Multiple entry points not working
**Error**: Only some vote components load
**Solution**: Check that all entry points in [src/votes/vite.config.js](mdc:src/votes/vite.config.js) match actual files

## Validation

Run the validation script to catch common issues:
```bash
node scripts/validate-extensions.js
```

## Debugging Tips

1. Check file paths are correct (case-sensitive)
2. Verify all required files exist
3. Ensure extension names are consistent
4. Test with `npm run dev` in extension directory
5. Check browser console for errors
6. Verify manifest.json is copied to dist/
