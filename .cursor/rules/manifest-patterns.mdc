---
description: 
globs: 
alwaysApply: false
---
# Extension Manifest Patterns

All extensions require a manifest.json file that defines metadata and entry points. This manifest works with the entry points (see [entry-points.mdc](mdc:.cursor/rules/entry-points.mdc)) and build process (see [build-and-deployment.mdc](mdc:.cursor/rules/build-and-deployment.mdc)).

## Standard Manifest Pattern
```json
{
  "entrypoints": ["extension-name"],
  "styles": "extension-name.css",
  "name": "Extension Name",
  "description": "Description of the extension",
  "version": "1.0.0",
  "author": "Fitter",
  "icon": "https://fitterapp.app/favicon.ico",
  "permissions": []
}
```

## Examples
- [src/auth-button/manifest.json](mdc:src/auth-button/manifest.json) - Auth button manifest
- [src/macro-tracker/manifest.json](mdc:src/macro-tracker/manifest.json) - Macro tracker manifest
- [src/pushups/manifest.json](mdc:src/pushups/manifest.json) - Pushups manifest
- [src/reviews/manifest.json](mdc:src/reviews/manifest.json) - Reviews manifest
- [src/votes/manifest.json](mdc:src/votes/manifest.json) - Multiple entry points

## Votes Extension (Multiple Entry Points)
The votes extension has multiple entry points (see [entry-points.mdc](mdc:.cursor/rules/entry-points.mdc) for details):
```json
{
  "entrypoints": ["single-vote", "multi-vote", "pie-chart", "fan-rating"]
}
```

## Key Manifest Elements
- **entrypoints**: Must match actual .ts files in src/ (see [entry-points.mdc](mdc:.cursor/rules/entry-points.mdc))
- **styles**: References CSS file (usually extension-name.css)
- **name**: Human-readable extension name
- **description**: Brief description of functionality
- **version**: Semantic versioning
- **author**: Always "Fitter"
- **icon**: Always "https://fitterapp.app/favicon.ico"
- **permissions**: Array of required permissions (usually empty)

## Integration with Other Components
- **Entry Points**: Entrypoints must match [entry-points.mdc](mdc:.cursor/rules/entry-points.mdc) files
- **Vite Config**: Extension name should match [vite-configuration.mdc](mdc:.cursor/rules/vite-configuration.mdc) base path
- **Build Process**: Manifest is copied during [build-and-deployment.mdc](mdc:.cursor/rules/build-and-deployment.mdc)
- **Structure**: Follows patterns in [extensions-structure.mdc](mdc:.cursor/rules/extensions-structure.mdc)

## Common Issues (see [common-issues.mdc](mdc:.cursor/rules/common-issues.mdc) for detailed solutions)
- Entrypoints must match actual TypeScript files
- Extension name in entrypoints must match folder name
- Manifest.json is automatically copied to dist/ during build
- All extensions use the same author and icon

## When Working With Manifests
- **Creating new extension**: Follow the standard pattern above
- **Debugging manifest issues**: Check [common-issues.mdc](mdc:.cursor/rules/common-issues.mdc) for manifest problems
- **Entry point changes**: Update both manifest and [entry-points.mdc](mdc:.cursor/rules/entry-points.mdc) files
- **Build coordination**: Ensure manifest works with [build-and-deployment.mdc](mdc:.cursor/rules/build-and-deployment.mdc) process
